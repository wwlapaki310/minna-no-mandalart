<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>マンダラート作成 - みんなのマンダラート</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">
                <span class="logo-icon">🎍</span>
                みんなのマンダラート
            </h1>
            <nav class="nav">
                <a href="index.html" class="nav-link">ホーム</a>
                <a href="list.html" class="nav-link">一覧</a>
                <a href="create.html" class="nav-link active">作成</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">マンダラートを作成</h2>
                <p class="page-description">
                    あなたの目標を9x9のマンダラートで整理しましょう
                </p>
            </div>

            <!-- 入力モード切替 -->
            <div class="mode-switch">
                <button class="mode-btn active" data-mode="guided">ガイド入力</button>
                <button class="mode-btn" data-mode="grid">グリッド入力</button>
            </div>

            <!-- ガイド入力モード -->
            <div class="input-section" id="guided-mode">
                <div class="step-indicator">
                    <div class="step active" data-step="1">
                        <span class="step-number">1</span>
                        <span class="step-label">大目標</span>
                    </div>
                    <div class="step" data-step="2">
                        <span class="step-number">2</span>
                        <span class="step-label">8つの中目標</span>
                    </div>
                    <div class="step" data-step="3">
                        <span class="step-number">3</span>
                        <span class="step-label">個別目標</span>
                    </div>
                </div>

                <!-- Step 1: 大目標 -->
                <div class="step-content active" data-step="1">
                    <div class="card">
                        <h3 class="card-title">💫 あなたの大目標を入力してください</h3>
                        <div class="input-group">
                            <input 
                                type="text" 
                                id="center-goal" 
                                class="input-large" 
                                placeholder="例: プロ野球選手になる"
                                maxlength="50"
                            >
                            <span class="char-count"><span id="center-count">0</span>/50</span>
                        </div>
                        <button class="btn btn-primary" id="step1-next">次へ</button>
                    </div>
                </div>

                <!-- Step 2: 8つの中目標 -->
                <div class="step-content" data-step="2">
                    <div class="card">
                        <h3 class="card-title">🎯 大目標を達成するための8つの中目標</h3>
                        <div class="center-preview">
                            <span class="preview-label">大目標:</span>
                            <span class="preview-text" id="center-preview"></span>
                        </div>
                        <div class="themes-grid">
                            <div class="theme-input" data-theme="0">
                                <label>中目標 1</label>
                                <input type="text" placeholder="例: 体力づくり" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="1">
                                <label>中目標 2</label>
                                <input type="text" placeholder="例: 技術向上" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="2">
                                <label>中目標 3</label>
                                <input type="text" placeholder="例: メンタル強化" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="3">
                                <label>中目標 4</label>
                                <input type="text" placeholder="例: 栄養管理" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="4">
                                <label>中目標 5</label>
                                <input type="text" placeholder="例: 戦術理解" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="5">
                                <label>中目標 6</label>
                                <input type="text" placeholder="例: チームワーク" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="6">
                                <label>中目標 7</label>
                                <input type="text" placeholder="例: 怪我予防" maxlength="30">
                            </div>
                            <div class="theme-input" data-theme="7">
                                <label>中目標 8</label>
                                <input type="text" placeholder="例: 自己分析" maxlength="30">
                            </div>
                        </div>
                        <div class="step-actions">
                            <button class="btn btn-secondary" id="step2-back">戻る</button>
                            <button class="btn btn-primary" id="step2-next">次へ</button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: 個別目標 -->
                <div class="step-content" data-step="3">
                    <div class="card">
                        <h3 class="card-title">✨ 各中目標の個別目標を8つずつ入力</h3>
                        
                        <!-- 中目標選択タブ -->
                        <div class="theme-tabs" id="theme-tabs">
                            <!-- JavaScriptで動的生成 -->
                        </div>

                        <!-- 各中目標の個別目標入力 -->
                        <div class="details-container" id="details-container">
                            <!-- JavaScriptで動的生成 -->
                        </div>

                        <div class="step-actions">
                            <button class="btn btn-secondary" id="step3-back">戻る</button>
                            <button class="btn btn-primary" id="step3-complete">完成！</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- グリッド入力モード -->
            <div class="input-section hidden" id="grid-mode">
                <div class="card">
                    <h3 class="card-title">📝 9x9グリッドで直接入力</h3>
                    <p style="text-align: center; color: var(--color-text-light); margin-bottom: 1rem;">
                        中央ブロック中心が<strong>大目標</strong>、その周囲8マスが<strong>中目標</strong>、<br>
                        各周辺ブロック中心に中目標、その周囲8マスが<strong>個別目標</strong>
                    </p>
                    <div class="mandalart-grid" id="mandalart-grid">
                        <!-- JavaScriptで動的生成 -->
                    </div>
                    <button class="btn btn-primary" id="grid-complete">完成！</button>
                </div>
            </div>

            <!-- プレビュー -->
            <div class="preview-section" id="preview-section">
                <h3 class="section-title">📋 プレビュー（中央ブロック）</h3>
                <div class="mandalart-preview" id="mandalart-preview">
                    <!-- JavaScriptで動的生成 -->
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 みんなのマンダラート</p>
        </div>
    </footer>

    <script src="js/create.js"></script>
</body>
</html>
